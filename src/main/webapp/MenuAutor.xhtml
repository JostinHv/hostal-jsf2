<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" />
	<link rel="stylesheet" type="text/css"
		href="#{request.contextPath}/resources/css/style.css" />
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'
		rel='stylesheet' />
	<title>Menu Autores</title>

	<style type="text/css">
body {
	display: flex;
	justify-content: center;
	align-items: center;
	min-height: 100vh;
	background: hsl(0, 0%, 86.3%);
}
</style>

</h:head>
<h:body>

	<div class="layout-topbar">
		<i class="bx bx-pen"></i> <img
			src="#{request.contextPath}/resources/images/logo_uns_final.png"
			alt="Logo" />
		<h1>Menu Autores</h1>
	</div>

	<div class="crud-demo">
		<h:form id="form">
			<p:growl id="messages" showDetail="true" />

			<p:toolbar class="bar">
				<p:toolbarGroup>
					<p:commandButton value="Agregar" styleClass="ui-button-success"
						icon="pi pi-plus" actionListener="#{presentadorMenuAutor.openNew}"
						update=":dialogs:add-product-content"
						oncomplete="PF('addProductDialog').show()">
						<p:resetInput target=":dialogs:add-product-content" />
					</p:commandButton>
				</p:toolbarGroup>
			</p:toolbar>

			<p:dataTable id="dt-products" widgetVar="dtProducts" var="autor"
				value="#{presentadorMenuAutor.autores}" reflow="true"
				styleClass="products-table" rowKey="#{autor.ID}" paginator="true"
				rows="10" paginatorPosition="bottom" style="text-align: center;">

				<p:column headerText="Codigo" sortBy="#{autor.ID}" style="text-align: center;">
					<h:outputText value="#{autor.ID}" />
				</p:column>
				<p:column headerText="Nombre" sortBy="#{autor.nombre}" style="text-align: center">
					<h:outputText value="#{autor.nombre}" />
				</p:column>
				<p:column headerText="Apelllidos" sortBy="#{autor.apellidos}" style="text-align: center">
					<h:outputText value="#{autor.apellidos}" />
				</p:column>
				<p:column headerText="Nacionalidad" sortBy="#{autor.nacionalidad}" style="text-align: center">
					<h:outputText value="#{autor.nacionalidad}" />
				</p:column>
				<p:column headerText="Fecha Nacimiento" sortBy="#{autor.fechaNacimiento}" style="text-align: center">
					<h:outputText value="#{autor.fechaNacimiento}" />
				</p:column>
				<p:column class="options" exportable="false">
					<p:commandButton icon="pi pi-pencil"
						update=":dialogs:manage-product-content"
						oncomplete="PF('manageProductDialog').show()"
						styleClass="edit-button rounded-button ui-button-success"
						style="background-color: hsl(350, 68%, 50%);
							   border: none;
							   outline: none;
							   margin-right:15px;"
						process="@this">
						<f:setPropertyActionListener value="#{autor}"
							target="#{presentadorMenuAutor.autor}" />
						<p:resetInput target=":dialogs:manage-product-content" />
					</p:commandButton>
					<p:commandButton icon="bx bxs-book-open"
						update=":dialogs:consult-product-content"
						oncomplete="PF('consultProductDialog').show()"
						styleClass="edit-button rounded-button ui-button-success"
						style="background-color: hsl(350, 68%, 50%);
							   border: none;
							   outline: none;
							   margin-right:15px;"
						process="@this">
						<f:setPropertyActionListener value="#{autor}"
							target="#{presentadorMenuAutor.autor}" />
						<p:resetInput target=":dialogs:consult-product-content" />
					</p:commandButton>
					<p:commandButton class="ui-button-warning rounded-button"
						icon="pi pi-trash" process="@this"
						oncomplete="PF('deleteProductDialog').show()"
						style="color: #f63e28;
							   background-color:#ced4da;
							   border: none;
							   outline: none;">
						<f:setPropertyActionListener value="#{autor}"
							target="#{presentadorMenuAutor.autor}" />
					</p:commandButton>
				</p:column>

			</p:dataTable>
		</h:form>

		<h:form id="dialogs">
			<p:dialog header="Añadir Autor" showEffect="fade" modal="true"
				widgetVar="addProductDialog" responsive="true">
				<p:outputPanel id="add-product-content" class="ui-fluid">
					<p:outputPanel rendered="#{not empty presentadorMenuAutor.autor}">
						<div class="field">
							<p:outputLabel for="nombreA">Nombre: </p:outputLabel>
							<p:inputText id="nombreA"
								value="#{presentadorMenuAutor.autor.nombre}" required="true" />
						</div>
						<div class="field">
							<p:outputLabel for="apellidosA">Apellidos: </p:outputLabel>
							<p:inputText id="apellidosA"
								value="#{presentadorMenuAutor.autor.apellidos}" />
						</div>
						<div class="field">
							<p:outputLabel for="nacionalidadA">Nacionalidad: </p:outputLabel>
							<p:inputText id="nacionalidadA"
								value="#{presentadorMenuAutor.autor.nacionalidad}" />
						</div>
						<div class="field">
							<p:outputLabel for="fechaNacimientoA">Fecha de Nacimiento: </p:outputLabel>
							<p:datePicker id="fechaNacimientoA"
								value="#{presentadorMenuAutor.autor.fechaNacimiento}" />
						</div>
					</p:outputPanel>
				</p:outputPanel>
				<f:facet name="footer">
					<p:commandButton value="Guardar" icon="pi pi-check"
						actionListener="#{presentadorMenuAutor.guardar}"
						class="ui-button-save" update="add-product-content"
						process="add-product-content @this" />
					<p:commandButton value="Cancelar" icon="pi pi-times"
						onclick="PF('addProductDialog').hide()"
						class="ui-button-secondary" type="button" />
				</f:facet>
			</p:dialog>
			<p:dialog header="Consultar Autor" showEffect="fade" modal="true"
				widgetVar="consultProductDialog" responsive="true">
				<p:outputPanel id="consult-product-content" class="ui-fluid">
					<p:outputPanel rendered="#{not empty presentadorMenuAutor.autor}">
						<div class="field">
							<p:outputLabel for="idC">ID: </p:outputLabel>
							<p:outputLabel id="idC" value="#{presentadorMenuAutor.autor.ID}" />
						</div>
						<div class="field">
							<p:outputLabel for="nombreC">Nombre: </p:outputLabel>
							<p:outputLabel id="nombreC"
								value="#{presentadorMenuAutor.autor.nombre}" required="true" />
						</div>
						<div class="field">
							<p:outputLabel for="apellidosC">Apellidos: </p:outputLabel>
							<p:outputLabel id="apellidosC"
								value="#{presentadorMenuAutor.autor.apellidos}" />
						</div>
						<div class="field">
							<p:outputLabel for="nacionalidadC">Nacionalidad: </p:outputLabel>
							<p:outputLabel id="nacionalidadC"
								value="#{presentadorMenuAutor.autor.nacionalidad}" />
						</div>
						<div class="field">
							<p:outputLabel for="fechaNacimientoC">Fecha de Nacimiento: </p:outputLabel>
							<p:outputLabel id="fechaNacimientoC"
								value="#{presentadorMenuAutor.autor.fechaNacimiento}" />
						</div>
					</p:outputPanel>
				</p:outputPanel>

				<f:facet name="footer">
					<p:commandButton value="Cerrar" icon="pi pi-times"
						onclick="PF('consultProductDialog').hide()"
						class="ui-button-secondary" type="button" />
				</f:facet>
			</p:dialog>

			<p:dialog header="Detalles de Autor" showEffect="fade" modal="true"
				widgetVar="manageProductDialog" responsive="true">
				<p:outputPanel id="manage-product-content" class="ui-fluid">
					<p:outputPanel rendered="#{not empty presentadorMenuAutor.autor}">
						<div class="field">
							<p:outputLabel for="id">ID: </p:outputLabel>
							<p:outputLabel id="id" value="#{presentadorMenuAutor.autor.ID}" />
						</div>
						<div class="field">
							<p:outputLabel for="nombre">Nombre</p:outputLabel>
							<p:inputText id="nombre"
								value="#{presentadorMenuAutor.autor.nombre}" required="true" />
						</div>
						<div class="field">
							<p:outputLabel for="apellidos">Apellidos</p:outputLabel>
							<p:inputTextarea id="apellidos"
								value="#{presentadorMenuAutor.autor.apellidos}" />
						</div>
						<div class="field">
							<p:outputLabel for="nacionalidad">Nacionalidad</p:outputLabel>
							<p:inputTextarea id="nacionalidad"
								value="#{presentadorMenuAutor.autor.nacionalidad}" />
						</div>
						<div class="field">
							<p:outputLabel for="fechaNacimiento">Fecha de Nacimiento</p:outputLabel>
							<p:datePicker id="fechaNacimiento"
								value="#{presentadorMenuAutor.autor.fechaNacimiento}" />
						</div>
					</p:outputPanel>
				</p:outputPanel>

				<f:facet name="footer">
					<p:commandButton value="Modificar" icon="pi pi-check"
						actionListener="#{presentadorMenuAutor.modificar}"
						class="ui-button-save" update="manage-product-content"
						process="manage-product-content @this" />
					<p:commandButton value="Cancelar" icon="pi pi-times"
						onclick="PF('manageProductDialog').hide()"
						class="ui-button-secondary" type="button" />
				</f:facet>
			</p:dialog>

			<p:confirmDialog widgetVar="deleteProductDialog" showEffect="fade"
				width="400" message="¿Esta seguro de eliminar al Autor?"
				header="Confirmar" severity="warn">
				<p:commandButton value="Si" icon="pi pi-check"
					actionListener="#{presentadorMenuAutor.eliminar}" process="@this"
					oncomplete="PF('deleteProductDialog').hide()"
					style="background-color: hsl(350, 68%, 50%);
						   border: none;
						   outline: none;" />
				<p:commandButton value="No" type="button"
					styleClass="ui-button-secondary" icon="pi pi-times"
					onclick="PF('deleteProductDialog').hide()" />
			</p:confirmDialog>

			<p:confirmDialog global="true" showEffect="fade" width="300">
				<p:commandButton value="Si" type="button"
					styleClass="ui-confirmdialog-yes" icon="pi pi-check"
					style="background-color: hsl(350, 68%, 50%);
						   border: none;
						   outline: none;" />
				<p:commandButton value="No" type="button"
					styleClass="ui-confirmdialog-no ui-button-secondary"
					icon="pi pi-times" />
			</p:confirmDialog>

			<p:commandButton value="Regresar" class="btn" icon="pi pi-angle-left"
						     style="width: 10%;
									height: 40px;
									background: #fff;
									border: none;
									outline: none;
							     	border-radius: 40px;
									box-shadow: 0 0 10px rgba(0, 0, 0, .1);
									cursor: pointer;
									font-size: 15px;
									color: #333;
									font-weight: 600;
									margin-top: 20px;
									margin-left: -5px;"
				action="#{presentadorMenuCategoria.regresarMenu}" ajax="false" />

		</h:form>
	</div>
</h:body>
</html>
